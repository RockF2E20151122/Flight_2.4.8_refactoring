define({"Flight/Domestic/DeliveryV2/Query":{deliveries:function(a){return a.deliverys?(a.deliverys||[]).map(function(a){var b={};b.type=a.dtype,b.name=a.dname,b.exinfo=a.exinfo;var c=0;return b.addrs=a.slst?a.slst.map(function(a){var b={};b.id=a.siteid,b.name=a.sitename;var d="";if(null!=a.stime){var e=new Date(a.stime).getHours().toString();d+=e.length<2?"0"+e:e;var f=new Date(a.stime).getMinutes().toString();d+=f.length<2?"0"+f:f}b.btime=d;var g="";if(null!=a.etime){var e=new Date(a.etime).getHours().toString();g+=e.length<2?"0"+e:e;var f=new Date(a.etime).getMinutes().toString();g+=f.length<2?"0"+f:f}return b.etime=g,b.dstr=a.siteid,b.site=a.exinfo.ssiteid,b.ext=a.extinfo,b.fee=a.exinfo.fee,b.index=c,c+=1,b}):null,b}):[]}},"Flight/Domestic/FlightDetailV2/Query":function(a){if(a.items&&a.items.length)return a;var b={availTM:0,couponBalance:0,ext:null,flag:null,insurances:[],items:[],notice:null,rebateDur:0,strategy:{},needinv:null,originData:null,ispackage:null,hasTravalPackage:!1,pkglist:[],invoiceinfo:[]};if(a.notes&&a.notes.length)for(var c=0;c<a.notes.length;c++){var d=a.notes[c];1==d.notetype&&d.notes&&d.notes.length&&(b.notice=d.notes[0].notes)}for(var c=0;c<a.segs.length;c++){var e=a.segs[c],f=a.pols[c],g={basicInfo:{},ext:"",policy:{},proRmk:"",rmk:{},routingIdx:"",stopCities:[]},h=e.flgs[0].basinfo,i=e.flgs[0].aportinfo,j=e.flgs[0].dportinfo,k=e.flgs[0].dateinfo,l=e.flgs[0].craftinfo,m=e.flgs[0].stopinfo;if(g.basicInfo.aCtyCode=i.city,g.basicInfo.aCtyId=null,g.basicInfo.aPortCode=i.aport,g.basicInfo.aTerminal=i.bsname,g.basicInfo.aTime=k.adate,g.basicInfo.aaname=i.aportsname,g.basicInfo.acname=i.cityname,g.basicInfo.agreementId="",g.basicInfo.airlineCode=h.aircode,g.basicInfo.aname=h.airsname,g.basicInfo.channel="",g.basicInfo.ctinfo={},g.basicInfo.ctinfo.ckind=1==l.kind?"L":2==l.kind?"M":3==l.kind?"S":"Unknow",g.basicInfo.ctinfo.ctname=l.cname,g.basicInfo.ctinfo.maxs=l.max,g.basicInfo.ctinfo.mins=l.min,g.basicInfo.ctinfo.wlvl="",g.basicInfo.dCtyCode=j.city,g.basicInfo.dCtyId=j.cityid,g.basicInfo.dPortCode=j.aport,g.basicInfo.dTerminal=j.bsname,g.basicInfo.dTime=k.ddate,g.basicInfo.daname=j.aportsname,g.basicInfo.dcname=j.cityname,g.basicInfo.flag=null,g.basicInfo.flightNo=h.flgno,g.basicInfo.planeType=l.craft,g.basicInfo.puncRate=k.prate,g.basicInfo.polid=f.polid,m.isstop)for(var n=0;n<m.citys.length;n++){var o=m.citys[n];g.stopCities.push({name:o.cityname,aTime:null,dTime:null,Time:o.StopTime})}g.policy.isAddChd=null,g.policy.activityBM="",g.policy.babyPolicy=null,g.policy.cardTypes=f.salepolinfo.cards,g.policy.childPolicy=null,0==c&&(b.needinv=f.needinv,b.invoiceinfo=f.invoiceinfo||[]),g.policy.isApplyChild=null;var p=f.grades[0];g.policy.class=p.grade,g.policy.classForDisp=p.dplclass;for(var q=f.prices,r=0;r<q.length;r++){var s=q[r];1==s.psgtype?(g.policy.discount=s.discount,g.policy.price=s.price,g.policy.sPrice=s.stand,g.policy.fuelCost=s.fuel,g.policy.tax=s.tax,g.policy.isApplyChild=s.appchild):3==s.psgtype?(g.policy.babyPolicy=g.policy.babyPolicy||{},g.policy.babyPolicy.fuelCost=s.fuel,g.policy.babyPolicy.isApply=!0,g.policy.babyPolicy.price=s.price,g.policy.babyPolicy.tax=s.tax):2==s.psgtype&&(g.policy.childPolicy=g.policy.childPolicy||{},g.policy.childPolicy.fuelCost=s.fuel,g.policy.childPolicy.isApply=!0,g.policy.childPolicy.price=s.price,g.policy.childPolicy.tax=s.tax)}g.policy.minNum=f.salepolinfo.mintkt;for(var t=f.pkginfo,u=0;u<t.length;u++){var v=t[u],w=0;if(v.packageinfo&&v.packageinfo.psgs&&v.packageinfo.psgs.length)for(var x=0;x<v.packageinfo.psgs.length;x++){var y=v.packageinfo.psgs[x];if(1==y.psgtype){w=y.min;break}}if(v.basicinfo&&1==v.basicinfo.pkgtype&&0==c){var z={};z.amt=null,z.type=null,z.ext=null,z.min=w,z.price=v.price,z.productId=null,z.rmk=null,z.salesRmk=null,z.sites=null,z.typeId=v.basicinfo.pkgid,z.url=v.basicinfo.pkgdescurl,b.insurances.push(z)}}if(0==c){var A=t.filter(function(a){return 1==a.basicinfo.pkgtype}),B=t.filter(function(a){return 2==a.basicinfo.pkgtype});A.length&&B.length&&(b.ispackage=!0,b.pkglist=t)}g.policy.payments=[],g.policy.productType=null,g.policy.qty=f.quantity;for(var C=f.promos,D=0;D<C.length;D++){var E=C[D];switch(E.promotype){case 1:g.policy.rebateAmt=E.price,E.promodates&&E.promodates.length&&(g.policy.rebateAmtDescription=E.promodates[0].rmk);break;case 6:b.flag=7;break;case 3:g.policy.gift=E.price,E.promodates&&E.promodates.length&&(g.policy.giftDescription=E.promodates[0].rmk);case 4:g.basicInfo.hasMeal=!0;break;case 5:b.hasTravalPackage=!0,g.bIsPackage=!0}}g.policy.subclass=null,g.policy.subclassForDisp=null,g.prodRmk="";for(var F=f.notes,G=0;G<F.length;G++){var H=F[G];switch(H.notetype){case 2:g.prodRmk=H.notes[0].notes;break;case 3:g.prodRmk=H.notes[0].notes;break;case 5:g.rmk.ticketRmk=H.notes[0].notes;break;case 4:g.basicInfo.IsK=!0}}for(var I=f.frinfo,J=0;J<I.length;J++){var K=I[J];1==K.psgtype?(g.rmk.notice="",g.rmk.ticketTitle="",g.rmk.ticketBody="",g.rmk.refNote=K.refnote,g.rmk.rerNote=K.rer,g.rmk.endNote=K.end,g.rmk.ext=null,g.rmk.specialClass=null):3==K.psgtype?null!=g.policy.babyPolicy&&(g.policy.babyPolicy=g.policy.babyPolicy||{},g.policy.babyPolicy.refRerEndNote={},g.policy.babyPolicy.refRerEndNote.endNote=K.end,g.policy.babyPolicy.refRerEndNote.refNote=K.refnote,g.policy.babyPolicy.refRerEndNote.rerNote=K.rer):2==K.psgtype&&null!=g.policy.childPolicy&&(g.policy.childPolicy=g.policy.childPolicy||{},g.policy.childPolicy.refRerEndNote={},g.policy.childPolicy.refRerEndNote.endNote=K.end,g.policy.childPolicy.refRerEndNote.refNote=K.refnote,g.policy.childPolicy.refRerEndNote.rerNote=K.rer)}1==e.segno?b.items.unshift(g):b.items.push(g)}return b.originData=a,b},"Flight/Domestic/FlightVarList/Query":{Data:function(a){function b(a){return a?a.slice(0,2)+":"+a.slice(2):"--:--"}var c=[];return a&&a.items?($(a.items).each(function(a,d){var e={ActualArriveTime:b(d.aaTime),ActualDepartTime:b(d.adTime),AirCompanyName:d.airlineName,ArriveAirportCode:d.aPort,ArriveAirportName:"",ArriveTerminal:d.aTerminal,DepartAirportCode:d.dPort,DepartAirportName:"",DepartTerminal:d.dTerminal,EstimateArriveTime:b(d.eaTime),EstimateDeparTime:b(d.edTime),FlightNo:d.flightNo,PlanArriveTime:b(d.paTime),PlanDepartTime:b(d.pdTime),StatusRemark:d.status,StopAirport:d.stopPort,StopCity:d.stopCty,puncRate:d.puncRate,AirlineCode:d.airlineCode,ActualArriveDate:d.aaDate,ActualDepartDate:d.adDate,AZone:d.azone,DZone:d.dzone,DStpe:d.dstpe,eaDate:d.eaDate,edDate:d.edDate,interval:d.interval,sDate:d.sDate,pdDate:d.pdDate,paDate:d.paDate,fTime:d.fTime,fcTime:d.fcTime,plane:d.airmodel,planeAge:d.planage,cftkind:d.cftkind,follow:!1,borgate:d.borgate};c.push(e)}),c):void 0},Message:null,Query:null,ServerCode:1},"Flight/Domestic/Order/RepeatOrderCheck":{mappingRequest:function(a,b){var c={pinfo:[],finfo:[],ver:0};return a&&a.forEach(function(a){var b={cnum:a.passportNo,ctype:a.passportType,nation:a.natl,psgid:a.id,psgname:a.name};c.pinfo.push(b)}),b&&b.items.forEach(function(a){var b={dcity:a.basicInfo.dCtyCode,dcityid:a.basicInfo.dCtyId,ddate:a.basicInfo.dTime};c.finfo.push(b)}),c}}});