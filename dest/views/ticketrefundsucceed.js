define(["cSales","libs","c","CommonStore","FlightStore","FlightModel","cBasePageView",buildViewTemplatesPath("ticketrefundsucceed.html"),"cUtility","cWidgetFactory","cWidgetGuider"],function(a,b,c,d,e,f,g,h,i){var j=d.SalesObjectStore.getInstance(),k=d.UserStore.getInstance(),l=e.FlightOrderParamStore.getInstance(),m=(e.FlightOrderDetailStore.getInstance(),f.FlightTicketRefundChangeModel.getInstance(),f.FlightTicketRefundModel.getInstance(),c.ui,c.base,k.getUser()),n="退票申请",o=g.extend({pageid:"214395",tpl:h,hasAd:!0,homeUrl:"/html5",render:function(){this.$el.html(this.tpl),this.elsBox={ticketRefund_succeed_tpl:this.$el.find("#ticketRefund_succeed_tpl"),ticketRefund_succeed_box:this.$el.find("#ticketRefund_succeed_box")},this.ticketRefund_succeed_tpl_creater=_.template(this.elsBox.ticketRefund_succeed_tpl.html())},renderData:function(a){var b=this,c=l.get();a.orderID=c.Id;var d=b.ticketRefund_succeed_tpl_creater(a);b.elsBox.ticketRefund_succeed_box.html(d)},backAction:function(){if(m=k.getUser(),m&&m.Auth)this.back("flightorderdetail");else{var a=j.get();a&&a.sid&&1896==+a.sid?window.location="map://leftClick()":this.jump(this.homeUrl)}},events:{},onCreate:function(){l.get()||this.jump(this.homeUrl),this.injectHeaderView(),this.render()},onShow:function(){this.setTitle(n)},onLoad:function(){var a=this;a.turning();var b=!0,c=j.get();c&&c.sid&&(1575==+c.sid||1867==+c.sid)&&(b=!1),a.headerview.set({title:n,back:!0,view:a,tel:{number:4000086666},home:b,events:{homeHandler:function(){var b=j.get();b&&b.sid&&1896==+b.sid?window.location="map://leftClick()":a.jump(a.homeUrl)},returnHandler:function(){a.backAction()}}}),a.headerview.show(),m=k.getUser(),m&&m.Auth?a.renderData({}):i.isInApp()?a.showWarning404(function(){location.reload()}):a.jump("/webapp/myctrip/#account/login?from="+encodeURIComponent(this.getRoot()+"#flightorderdetail")),this.getSalesObj()},getSalesObj:function(){var b=this,c=b.getQuery("sales"),e=b.getQuery("sourceid"),f=d.SalesStore.getInstance().get();null!=f&&null==e&&null==c&&(e=f.sourceid),(c||e)&&a.getSalesObject(c||e,$.proxy(function(){a.replaceContent(b.$el)},this))},onHide:function(){this.hideLoading(),this.hideWarning404()}});return o});