define(["cSales","libs","c","cUI","CommonStore","FlightStore","FlightModel","cBasePageView",buildViewTemplatesPath("notimedcheckin.html"),"cWidgetFactory"],function(a,b,c,d,e,f,g,h,i){var j,k=f.CheckinResultStore.getInstance(),l=f.CheckPassengerStore.getInstance(),m=null;return j=h.extend({tpl:i,homeUrl:"/html5",backUrl:"CheckInList",selectSeatUrl:"selectseat",events:{"click #select_seat":"selectSeat","click #js_home":"homeAction","click #js_return":"backAction"},ready:function(){this.$el.html(this.tpl),this.elsBox={checkin_info_box:this.$el.find("#checkin_info_box"),checkin_info_tpl:this.$el.find("#checkin_info_tpl")},this.checkin_info_fun=_.template(this.elsBox.checkin_info_tpl.html())},onCreate:function(){this.showLoading(),this.ready()},onLoad:function(){this.showLoading(),m=this,this.renderCheckinInfoBox(),this.turning(),this.hideLoading(),this.getSalesObj()},getSalesObj:function(){var b=this,c=b.getQuery("sales"),d=b.getQuery("sourceid"),f=e.SalesStore.getInstance().get();null!=f&&null==d&&null==c&&(d=f.sourceid),(c||d)&&a.getSalesObject(c||d,$.proxy(function(){a.replaceContent(b.$el)},this))},homeAction:function(){this.jump(m.homeUrl)},backAction:function(){this.back(m.backUrl)},onShow:function(){this.setTitle("未到时间值机页")},onHide:function(){this.elsBox.checkin_info_box.empty(),this.hideLoading()},renderCheckinInfoBox:function(){var a=k.get(),b={},c=a?a.cairinf.resmsg.replace(/\|/g,"<br/>"):"";b.resmsg=c,this.elsBox.checkin_info_box.html(this.checkin_info_fun(b))},selectSeat:function(){this.showLoading(),l.setAttr("backurl","notimedcheckin"),this.forward(this.selectSeatUrl)}})});