define(["cSales","libs","c","CommonStore","FlightStore","FlightModel","cBasePageView",buildViewTemplatesPath("flightticketchangesucces.html"),"cUtility","cWidgetFactory","cWidgetGuider","cWidgetCalendar"],function(a,b,c,d,e,f,g,h,i){var j=(c.ui,c.base,d.SalesObjectStore.getInstance()),k=(e.FlightOrderParamStore.getInstance(),d.UserStore.getInstance()),l=k.getUser(),m=e.FlightTicketChangeForm.getInstance(),n=g.extend({pageid:"214398",tpl:h,homeUrl:"/html5",render:function(){this.$el.html(this.tpl),this.elsBox={flightticketchangesucces_tpl:this.$el.find("#flightticketchangesucces_tpl"),flightticketchangesucces_box:this.$el.find("#flightticketchangesucces_box")},this.flightticketchangesucces_fun=_.template(this.elsBox.flightticketchangesucces_tpl.html())},renderData:function(a){var b=this;a=a||{},a.oid=a.oid||"未知";var c=b.flightticketchangesucces_fun(a);b.elsBox.flightticketchangesucces_box.html(c)},backAction:function(){if(l=k.getUser(),l&&l.Auth)this.back("flightorderdetail");else{var a=j.get();a&&a.sid&&1896==+a.sid?window.location="map://leftClick()":this.jump(this.homeUrl)}},events:{},onCreate:function(){this.injectHeaderView(),this.render()},onShow:function(){this.setTitle("改签申请完成")},onLoad:function(){var a=this;a.turning();var b=!0;a.headerview.set({title:"改签申请完成",back:!0,view:a,tel:{number:4000086666},home:b,events:{homeHandler:function(){var b=j.get();b&&b.sid&&1896==+b.sid?window.location="map://leftClick()":a.jump(a.homeUrl)},returnHandler:function(){a.backAction()}}}),a.headerview.show(),l=k.getUser(),l&&l.Auth?a.getData():i.isInApp()?a.showWarning404(function(){location.reload()}):a.jump("/webapp/myctrip/#account/login?from="+encodeURIComponent(this.getRoot()+"#flightorderdetail")),this.getSalesObj()},getSalesObj:function(){var b=this,c=b.getQuery("sales"),e=b.getQuery("sourceid"),f=d.SalesStore.getInstance().get();null!=f&&null==e&&null==c&&(e=f.sourceid),(c||e)&&a.getSalesObject(c||e,$.proxy(function(){a.replaceContent(b.$el)},this))},onHide:function(){this.elsBox.flightticketchangesucces_box.empty(),this.hideLoading(),this.hideWarning404()},getData:function(){var a=m.get();this.renderData(a)}});return n});