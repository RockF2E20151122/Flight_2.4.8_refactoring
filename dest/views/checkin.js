define(["libs","c","cBasePageView","CommonStore","FlightModel","FlightStore",buildViewTemplatesPath("checkin.html")],function(a,b,c,d,e,f,g){var h=(b.ui,b.base,d.SalesObjectStore.getInstance,d.UserStore.getInstance()),i=(h?h.getUser():null,e.CheckinListModel.getInstance()),j=(f.CheckinListStore.getInstance(),f.CheckPassengerStore.getInstance()),k=null,l=c.extend({pageid:"",tpl:g,render:function(){this.viewdata.req=this.request,this.$el.html(this.tpl),this.els={cabinList:this.$el.find("#cabinList")}},events:{"click #NoLogin":"NoLogin","click #Login":"Login","click .flight-footer li":"ToNextPage","click #js_return":"backAction"},onCreate:function(){this.render()},onLoad:function(){k=this,this.showLoading(),h.isLogin()?i.excute(function(a){a.fcinfos&&a.fcinfos.length?this.forward("#CheckInList"):(j.remove(),this.forward("#checkinbooking"))},function(){k.hideLoading(),k.back("index")},!0,this):(k.hideLoading(),k.turning())},onShow:function(){},onHide:function(){this.hideLoading()},backAction:function(){this.jump("/html5/")},NoLogin:function(){j.remove(),this.forward("checkinbooking")},Login:function(){this.showLoading(),window.location.href="/webapp/myctrip/#account/login?t=1&from="+encodeURIComponent(this.getRoot()+"#checkin")},ToNextPage:function(a){var b=$(a.target);"flightSearch"==b.attr("id")?this.forward("index"):"flightSchedule"==b.attr("id")&&this.jump("/html5/Flight/Schedule/")}});return l});